var DdbManager = require("app/DdbManager");

module.exports.getNotSilent = function (event,context) {
  var dm = new DdbManager();
  dm.getNotSilent(event,context);
};

/*
// Won't be able to sync using AWS lambda functions
// because the maximum timeout is 60 seconds
// while I need 30 minutes to run a complete sync
// Will stick to php script running in a server spun up 1 hour / day
// Check https://github.com/shadiakiki1986/zboota-server-nodejs/issues/2
module.exports.sync = function (event,context) {
  var dm = new DdbManager();
  dm.syncDdbWeb(context);
};
*/

module.exports.registeredUsersDataMinDate = function (event,context) {
  var dm = new DdbManager();
  dm.registeredUsersDataMinDate({
    fail: context.fail,
    succeed: function(x) {
      context.succeed(x.min);
    }
  });
};

